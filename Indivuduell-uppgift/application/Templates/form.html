{% extends "base.html" %}
{% block title %}Form{% endblock %}
{% block header %}
</br>
</br>
<h2 style="text-align:center;">Form</h2>
{% endblock %}

{% block content %}
</br>
</br>
<!-- Formulär tagen från bootstrap.com -->
<!-- När vi skickar formuläret tar vi oss till endpoint /results -->
<!-- metoden vi använder anges också, i det här fallet "post"-->
<form action="/results" method="post" class="mx-auto text-center my-5">
    <h5>Prisklass: </h5>                        
    <select class="form-select form-control-sm" name="price_class"> <!-- name-attributet, för att hämta värdet i flask -->
        <option selected>Välj prisklass</option>
        <option value="SE1">SE1 - Luleå - Norra Sverige</option> <!-- value är värdet som sätts på name-attrubutet -->
        <option value="SE2">SE2 - Sundsvall / Norra Mellansverige</option>
        <option value="SE3">SE3 - Stockholm / Södra Mellansverige</option>
        <option value="SE4">SE4 - Malmö / Södra Sverige</option>
    </select>

    <h5>År: </h5>
    <select class="form-select" name="year"> <!-- year-->
        <option selected>Välj år</option>
        <option value="2022">2022</option>
        <option value="2023">2023</option>
    </select>

    <h5>Månad: </h5>
    <select class="form-select" name="month"> <!-- month -->
        <option selected>Välj månad</option>
        {% for i in range(1, 13) %}
            <option value="{{ "%02d"|format(i) }}">
                {{ "%02d"|format(i) }}</option>
        {% endfor %}
    </select>

    <h5>Dag: </h5>
    <select class="form-select" name="day"> <!-- day -->
        <option selected>Välj dag</option>
        {% for i in range(1, 32) %}
            <option value="{{ "%02d"|format(i) }}">
                {{ "%02d"|format(i) }}</option>
        {% endfor %}

    <input type="submit" value="Submit" name="submit_button" />
</form>


<!-- BEGRÄNSA DATUM-->
<!-- DETTA FUNGERAR INTE -->
<script>
    function validateForm() {
        var year = document.getElementsByName("year")[0].value;
        var month = document.getElementsByName("month")[0].value;
        var day = document.getElementsByName("day")[0].value;
        var selectedDate = new Date(year, month - 1, day);  // Month is zero-based
    
        // Set min and max dates
        var minDate = new Date("2022-11-01");
        var maxDate = new Date();
        maxDate.setDate(maxDate.getDate() + 1);  // Allow selecting up to one day in the future
    
        if (selectedDate < minDate || selectedDate > maxDate) {
            alert("Felaktig inmatning: Välj ett datum mellan 2022-11-01 och en dag framåt i tiden.");
            return false;
        }
    
        return true;
    }
</script>
{% endblock %}

{% block footer %}{% endblock %}